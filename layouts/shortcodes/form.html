<form class="contact-form" id="contactForm">
  <div class="input-group">
    <i class="fa-solid fa-user"></i>
    <input type="text" id="name" name="name" placeholder="{{ i18n "form_name" }}" required>
  </div>

  <div class="input-group">
    <i class="fa-solid fa-phone"></i>
    <input type="tel" id="phone" name="phone" placeholder="{{ i18n "form_phone" }}">
  </div>

  <div class="input-group">
    <i class="fa-solid fa-envelope"></i>
    <input type="email" id="email" name="email" placeholder="{{ i18n "form_email" }}" required>
  </div>

  <div class="input-group textarea-group">
    <i class="fa-solid fa-message"></i>
    <textarea id="message" name="message" rows="5" placeholder="{{ i18n "form_message" }}" required></textarea>
  </div>

  <button type="submit">
    <i class="fa-solid fa-paper-plane"></i> {{ i18n "form_submit" }}
  </button>
</form>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

<style>
.contact-form {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  max-width: 600px;
}
.input-group {
  position: relative;
  display: flex;
  align-items: center;
}
.input-group i {
  position: absolute;
  left: 12px;
  color: #555;
  font-size: 1rem;
}
.input-group input,
.input-group textarea {
  width: 100%;
  padding: 0.75rem 0.75rem 0.75rem 2.5rem;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 1rem;
}
.textarea-group i {
  top: 12px;
  align-self: flex-start;
}
.contact-form button {
  background-color: #007acc;
  color: white;
  padding: 0.75rem;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}
.contact-form button:hover {
  background-color: #005fa3;
}
</style>

<script>
document.getElementById("contactForm").addEventListener("submit", async function (e) {
  e.preventDefault();

  const data = {
    formType: "kontakt", // üëà –≤–∞–∂–ª–∏–≤–æ: —Ü–µ –ø—ñ–¥–µ —É subject —É –≤–æ—Ä–∫–µ—Ä—ñ
    name: document.getElementById("name").value,
    phone: document.getElementById("phone").value,
    email: document.getElementById("email").value,
    message: document.getElementById("message").value,
  };

  try {
    const resp = await fetch("/submit", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data),
    });

    const text = await resp.text();

    if (resp.ok) {
      alert("‚úÖ Nachricht gesendet!\n\n" + text);
      e.target.reset();
    } else {
      alert("‚ùå Fehler beim Senden!\n\n" + text);
    }
  } catch (err) {
    alert("‚ùå Netzwerkfehler: " + err.message);
  }
});
</script>

